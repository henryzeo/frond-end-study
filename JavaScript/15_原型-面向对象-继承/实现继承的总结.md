## ä»€ä¹ˆæ˜¯åŸå‹ã€åŸå‹é“¾ï¼Ÿ



## ç»§æ‰¿çš„å„ä¸ªæ–¹æ¡ˆä»¥åŠä¼˜ç¼ºç‚¹

```javascript
function Person(name, age, height, address) {
    this.name = name
    this.age = age
    this.height = height
    this.address = address
}
Person.prototype.running = function() {
    console.log(this.name + " running~")
}
Person.prototype.eating = function() {
    console.log(this.name + " eating~")
}

function Student(name, age, height, address, sno, score) {
    this.name = name
    this.age = age
    this.height = height
    this.address = address
    this.sno = sno
    this.score = score
}

function Teacher(name, age, height, address, title) {
    this.name = name
    this.age = age
    this.height = height
    this.address = address
    this.title = title
}
```



### æ–¹æ¡ˆä¸€ï¼šç›´æ¥ç»‘å®š

```javascript
// ç›´æ¥ç»‘å®šçˆ¶ç±»çš„åŸå‹
Student.propotype = Person.propotype
```

å¼Šç«¯:

- å­ç±»å¯ä»¥ä¿®æ”¹çˆ¶ç±»å±æ€§å’Œæ–¹æ³•



### æ–¹æ¡ˆäºŒï¼šåŸå‹é“¾å®ç°ç»§æ‰¿

```javascript
// åŸå‹é“¾å®ç°ç»§æ‰¿(newä¸€ä¸ªçˆ¶ç±»å¯¹è±¡,è®©æ–°å¯¹è±¡ä¸ºå­ç±»å¯¹è±¡çš„åŸå‹)
var person = new Person("kobe", 18)
Student.propotype = person
Student.propotype.studying = function() {
    console.log("studying~")
}
```

å¼Šç«¯:

- å­ç±»ä¸­æ— æ³•æ‰“å°å‡ºå…¬å…±å±æ€§
- å¼•ç”¨ç±»å‹çš„å€¼ï¼Œè¢«æ‰€æœ‰å­ç±»å®ä¾‹å…±äº«
- å­ç±»å‹åœ¨å®ä¾‹åŒ–æ—¶æ— æ³•å‘çˆ¶ç±»å‹çš„æ„é€ å‚æ•°ä¼ å‚



### æ–¹æ¡ˆä¸‰ï¼šå€Ÿç”¨æ„é€ å‡½æ•°

ä¸ºäº†è§£å†³åŸå‹åŒ…å«å¼•ç”¨å€¼å¯¼è‡´çš„ç»§æ‰¿é—®é¢˜  

```javascript
// å€Ÿç”¨æ„é€ å‡½æ•°å®ç°ç»§æ‰¿(åœ¨å­ç±»ä¸­è°ƒç”¨çˆ¶ç±»çš„callæˆ–applyæ–¹æ³•,ç»‘å®šå±æ€§)
function Student(name, age, height, address, sno, score) {
    Person.call(this, name, age, height, address)
    this.sno = sno
    this.score = score
}

function Teacher(name, age, height, address, title) {
    Person.call(this, name, age, height, address)
    this.title = title
}
```

å¼Šç«¯:

- æ— æ³•ç»§æ‰¿çˆ¶ç±»åŸå‹ä¸­çš„å±æ€§å’Œæ–¹æ³•
- å­ç±»æ— æ³•å¤ç”¨ï¼Œåªèƒ½åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰æ–¹æ³•



### æ–¹æ¡ˆå››ï¼šç»„åˆç»§æ‰¿



```javascript
// ç»„åˆåŸå‹é“¾å’Œå€Ÿç”¨æ„é€ å‡½æ•°
// ä½¿ç”¨åŸå‹é“¾ç»§æ‰¿åŸå‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œè€Œé€šè¿‡å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿å®ä¾‹å±æ€§ã€‚
function Student(name, age, height, address, sno, score) {
    Person.call(this, name, age, height, address)
    this.sno = sno
    this.score = score
}

function Teacher(name, age, height, address, title) {
    Person.call(this, name, age, height, address)
    this.title = title
}

var person = new Person("kobe", 18)
Student.propotype = person
Student.propotype.studying = function() {
    console.log("studying~")
}
```

å¼Šç«¯:

- çˆ¶ç±»æ„é€ å‡½æ•°å§‹ç»ˆä¼šè¢«è°ƒç”¨ä¸¤æ¬¡  
  - ä¸€æ¬¡åœ¨æ˜¯åˆ›å»ºå­ç±»åŸå‹æ—¶è°ƒç”¨
  - å¦ä¸€æ¬¡æ˜¯åœ¨å­ç±»æ„é€ å‡½æ•°ä¸­è°ƒç”¨ã€‚  
- å­ç±»å®ä¾‹æœ‰ä¸¤ä»½çˆ¶ç±»çš„å±æ€§
  - ä¸€ä»½åœ¨è‡ªå·±çš„å®ä¾‹ä¸Š
  - ä¸€ä»½åœ¨è‡ªå·±çš„åŸå‹ä¸Š(ä¹Ÿå°±æ˜¯çˆ¶ç±»çš„åŸå‹ä¸Š)



### æ–¹æ¡ˆäº”ï¼šåŸå‹å¼ç»§æ‰¿

é’ˆå¯¹å¯¹è±¡ä¹‹é—´çš„ç»§æ‰¿

ECMAScript 5 é€šè¿‡å¢åŠ  Object.create()æ–¹æ³•å°†åŸå‹å¼ç»§æ‰¿çš„æ¦‚å¿µè§„èŒƒåŒ–äº†ã€‚  

- å‚æ•°
  - protoï¼šæ–°åˆ›å»ºå¯¹è±¡çš„åŸå‹å¯¹è±¡
  - propertiesObjectï¼šæ–°å¯¹è±¡çš„é¢å¤–å±æ€§ï¼ˆå¯é€‰ï¼‰

```javascript
// åŸå‹å¼ç»§æ‰¿
// é€‚ç”¨äºä¸éœ€è¦å•ç‹¬åˆ›å»ºæ„é€ å‡½æ•°ï¼Œä½†ä»ç„¶éœ€è¦åœ¨å¯¹è±¡é—´å…±äº«ä¿¡æ¯çš„åœºåˆ
function object(o) {
function F() {}
F.prototype = o;
return new F();
}

var obj = {
    name: "kobe",
    friends: ["james", "curry"]
}

var p = object(obj)
p.name = "zx"
// p.friends.push("aaa")
console.log("ğŸš€ ~ p.friends", p.friends)
console.log("ğŸš€ ~ p.name", p.name)


```

å¼Šç«¯:

- å±æ€§ä¸­çš„å¼•ç”¨å€¼å§‹ç»ˆä¼šåœ¨ç›¸å…³å¯¹è±¡ä¸Šå…±äº«



### æ–¹æ¡ˆå…­ï¼šå¯„ç”Ÿå¼ç»§æ‰¿

```javascript
// å¯„ç”Ÿå¼ç»§æ‰¿
// å¯„ç”Ÿæ„é€ å‡½æ•°å’Œå·¥å‚æ¨¡å¼ï¼šåˆ›å»ºä¸€ä¸ªå®ç°ç»§æ‰¿çš„å‡½æ•°ï¼Œä»¥æŸç§æ–¹å¼å¢å¼ºå¯¹è±¡ï¼Œç„¶åè¿”å›è¿™ä¸ªå¯¹è±¡ã€‚
// å¯„ç”Ÿå¼ç»§æ‰¿åŒæ ·é€‚ç”¨äºä¸»è¦å…³æ³¨å¯¹è±¡ï¼Œè€Œä¸åœ¨ä¹ç±»å‹å’Œæ„é€ å‡½æ•°çš„åœºæ™¯

function createAnother(original){
    let clone = object(original); // é€šè¿‡è°ƒç”¨å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡
    clone.sayHi = function() { // ä»¥æŸç§æ–¹å¼å¢å¼ºè¿™ä¸ªå¯¹è±¡
        console.log("hi");
	};
	return clone; // è¿”å›è¿™ä¸ªå¯¹è±¡
}

```

å¼Šç«¯:

- éš¾ä»¥é‡ç”¨ï¼Œäºå€Ÿç”¨æ„é€ å‡½æ•°ç±»ä¼¼



### æ–¹æ¡ˆä¸ƒï¼šå¯„ç”Ÿå¼ç»„åˆç»§æ‰¿

```javascript
// å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿
// ä½¿ç”¨å¯„ç”Ÿå¼ç»§æ‰¿æ¥ç»§æ‰¿çˆ¶ç±»åŸå‹ï¼Œç„¶åå°†è¿”å›çš„æ–°å¯¹è±¡èµ‹å€¼ç»™å­ç±»åŸå‹ã€‚
// å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿å¯ä»¥ç®—æ˜¯å¼•ç”¨ç±»å‹ç»§æ‰¿çš„æœ€ä½³æ¨¡å¼ã€‚
function object(o) {
  function F() {}
  F.prototype = o
  return new F()
}

function inherit(subType, superType) {
    var proto = object(superType.prototype) // åˆ›å»ºå¯¹è±¡
    subType.prototype = proto  // èµ‹å€¼å¯¹è±¡
    Object.defineProperty(subType.prototype, "constructor", {  // å¢å¼ºå¯¹è±¡
        enumerable: false,
        configurable: true,
        writable: true,
        value: subType
    })
}

inherit(Student, Person) // å®ç°ç»§æ‰¿
```

